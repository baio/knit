<div id="_body">
    <div class="container-fluid" style="margin-top: 30px" data-bind="ifnot: name">
        <div class="row-fluid">
            <div class="span12">
                <div class="row-fluid">
                    <h2>Вы должны <a href="/auth/twitter">войти в систему</a>, перед тем как редактировать данные</h2>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid" style="margin-top: 30px" data-bind="if: name">
        <div class="row-fluid">
            <div class="span12">
                <div class="row-fluid">
                    <h2>Привет <span data-bind="text: name"></span>, <span data-bind="with:contribs">кликни <a href="#" data-bind="click: startCreate">здесь</a></span>
                        для того чтобы создать новый набор данных.</h2>
                    <h2>Или выбери что нибудь для редактирования, также можешь создать новый <span data-bind="with:graphs"><a href="#" data-bind="click: startCreate">граф</a></span>.</h2>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span6">
                <div class="row-fluid" data-bind="with: contribs">
                    <h3>Наборы данных</h3>
                    <!-- ko foreach: list -->
                    <h4>
                        <a href="#" data-bind="click: startRemove"><i class="icon-remove"></i></a>
                        <a href="#/contrib/item" data-bind="link: ref"><span data-bind="text: name"></span>&nbsp;<span data-bind="text: date"></span></a>
                    </h4>
                    <!-- /ko -->
                </div>
            </div>
            <div class="span6">
                <div class="row-fluid" data-bind="with: graphs">
                    <h3>Графы</h3>
                    <!-- ko foreach: list -->
                    <h4>
                        <a href="#" data-bind="click: startRemove"><i class="icon-remove"></i></a>
                        <a href="#" data-bind="click: startUpdate"><span data-bind="text: name"></span>&nbsp;<span data-bind="text: date"></span></a>
                    </h4>
                    <!-- /ko -->
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal hide fade" data-form-type='create' data-form-resource='contrib'>
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Новый набор</h3>
    </div>
    <div class="modal-body">
        <form class="form-horizontal">
            <div class="control-group">
                <label class="control-label" for="inputName">Имя</label>
                <div class="controls">
                    <div class="help-inline error-message-inline" data-bind="validationMessage: name" style="display: none;"></div>
                    <input type="text" id="inputName" placeholder="Name" data-bind="value: name">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="inputUrl">Ссылка</label>
                <div class="controls">
                    <div class="help-inline error-message-inline" data-bind="validationMessage: url" style="display: none;"></div>
                    <input type="text" id="inputUrl" placeholder="Url" data-bind="value: url">
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-bind="click: cancel">Закрыть</a>
        <a href="#" class="btn btn-primary" data-bind="click: save">Создать</a>
    </div>
</div>
<div class="modal hide fade" data-form-type='delete' data-form-resource='contrib'>
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Вы уверены?</h3>
    </div>
    <div class="modal-body">
        <form class="form-horizontal">
            <h2>Все данные набора будут утеряны.</h2>
        </form>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-bind="click: cancel">Закрыть</a>
        <a href="#" class="btn btn-primary" data-bind="click: remove">Удалить</a>
    </div>
</div>
<div class="modal hide fade" data-form-type='create' data-form-resource='graph'>
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Новый граф</h3>
    </div>
    <div class="modal-body">
        <form class="form-horizontal">
            <div class="control-group">
                <label class="control-label" for="inputGraphName">Имя</label>
                <div class="controls">
                    <input type="text" id="inputGraphName" placeholder="Name" data-bind="value: name">
                </div>
            </div>
            <!--
            <div class="control-group" >
                <label class="control-label">Contribs to include</label>
                <div class="controls" data-bind="with: _contribs">
                    <ul data-bind="template : {name : 'contrib-graph-item', foreach: list}" data-view-engine-clean>
                    </ul>
                </div>
            </div>
            -->
        </form>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-bind="click: cancel">Закрыть</a>
        <a href="#" class="btn btn-primary" data-bind="click: save">Сохранить</a>
    </div>
</div>
<div class="modal hide fade" data-form-type='update' data-form-resource='graph'>
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Редактировать граф</h3>
    </div>
    <div class="modal-body">
        <form class="form-horizontal">
            <div class="control-group">
                <label class="control-label" for="inputGraphName">Name</label>
                <div class="controls">
                    <input type="text" id="inputUpdGraphName" placeholder="Name" data-bind="value: name">
                </div>
            </div>
            <!--
            <div class="control-group">
                <label class="control-label">Contribs to include</label>
                <div class="controls" data-bind="with: _contribs">
                    <ul data-bind="template : {name : 'contrib-graph-item', foreach: list}" data-view-engine-clean>
                    </ul>
                </div>
            </div>
            -->
        </form>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-bind="click: cancel">Закрыть</a>
        <a href="#" class="btn btn-primary" data-bind="click: save">Сохранить</a>
    </div>
</div>

<script type="text/html" id="contrib-graph-item">
    <li>
        <input  type="checkbox" data-bind="checked: isSelected"><span data-bind="text: name"></span>
    </li>
</script>
<div class="modal hide fade" data-form-type='delete' data-form-resource='graph'>
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Вы уверены?</h3>
    </div>
    <div class="modal-body">
        <form class="form-horizontal">
            <h2>Граф будет удален.</h2>
        </form>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-bind="click: cancel">Закрыть</a>
        <a href="#" class="btn btn-primary" data-bind="click: remove">Удалить</a>
    </div>
</div>
<!--
<div class="modal hide fade" data-form-type='create' data-form-resource='push'>
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Push request</h3>
    </div>
    <div class="modal-body">
        <form class="form-horizontal">
            <div class="control-group">
                <label class="control-label" for="inputPushUser">Name</label>
                <div class="controls">
                    <input type="text" id="inputPushUser" placeholder="Push user" data-bind="value: dest_user">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="inputPushGraph">Name</label>
                <div class="controls">
                    <input type="text" id="inputPushGraph" placeholder="Push graphs" data-bind="value: dest_graph">
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-bind="click: cancel">Close</a>
        <a href="#" class="btn btn-primary" data-bind="click: save">Push</a>
    </div>
</div>

<div class="modal hide fade" data-form-type='update' data-form-resource='pull'>
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Push request</h3>
    </div>
    <div class="modal-body">
        <form class="form-horizontal">
            <div class="control-group">
                <a href="#" class="btn btn-success" data-bind="click: accept">Accept</a>
            </div>
            <div class="control-group">
                <a href="#" class="btn btn-danger" data-bind="click: reject">Reject</a>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-bind="click: cancel">Close</a>
    </div>
</div>
-->